<!DOCTYPE html>
<html lang="vi">
<head>
  <title>KagPet - Thú cưng</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cửa hàng thú cưng uy tín, chất lượng">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 0;
      margin: 0;
      background-color: gainsboro;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    nav {
      margin: 0 0 20px 0;
    }

    nav a {
      color: #333;
      text-decoration: none;
    }

    nav a:hover {
      color: #8b76cc;
    }

    h1, h2, h3, h4 {
      margin-bottom: 15px;
      color: #333;
    }

    section {
      display: flex;
      gap: 30px;
      align-items: flex-start;
      margin-top: 30px;
    }

    section > div {
      flex: 1;
      width: 100%;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      width: 100%;
    }

    sanpham {
      background: white;
      padding: 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s;
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow: hidden;
    }

    sanpham:hover {
      transform: translateY(-5px);
    }

    sanpham img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      margin-bottom: 10px;
      transition: transform 0.3s;
    }

    sanpham:hover img {
      transform: scale(1.1);
    }

    sanpham h3 {
      font-size: 1.1em;
      margin: 10px 15px;
      color: #333;
      flex-grow: 0;
    }

    sanpham p {
      margin: 8px 15px;
      color: #666;
      font-size: 0.9em;
      flex-grow: 1;
    }

    .price-container {
      margin: 10px 15px;
    }

    del {
      color: #999;
      font-size: 0.9em;
      display: block;
    }

    strong {
      color: #e44d26;
      font-size: 1.2em;
      display: block;
      margin-top: 5px;
    }

    .button-container {
      margin: 10px 15px;
      padding-bottom: 15px;
    }

    button {
      background: #8b76cc;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      margin: 10px 0 5px 0;
      transition: background 0.3s;
    }

    button:hover {
      background: #7561b7;
    }

    sanpham a {
      display: inline-block;
      color: #8b76cc;
      text-decoration: none;
      padding: 5px 10px;
      transition: color 0.3s;
    }

    sanpham a:hover {
      color: #7561b7;
    }

    .pagination {
      margin-top: 30px;
      text-align: center;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .pagination h3 {
      margin-bottom: 10px;
      text-align: center;
    }

    .pagination ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 0;
      padding: 0;
    }

    .pagination a {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      text-decoration: none;
      color: #333;
      transition: all 0.3s;
    }

    .pagination a:hover {
      background: #8b76cc;
      color: white;
      border-color: #8b76cc;
    }

    /* Responsive cho phần nội dung chính */
    @media (max-width: 1024px) {
      .products {
        grid-template-columns: repeat(3, 1fr);
      }

      section {
        flex-direction: column;
        gap: 20px;
      }

      aside {
        width: 100%;
        margin-top: 0;
      }

      aside ul {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
      }

      aside li {
        margin: 0;
      }

      aside a {
        padding: 8px 15px;
        background-color: #f5f5f5;
        border-radius: 20px;
        display: block;
      }

      #sortSelect {
        width: 100%;
        max-width: 300px;
        margin: 10px auto;
        display: block;
      }
    }

    @media (max-width: 768px) {
      .products {
        grid-template-columns: repeat(2, 1fr);
      }

      sanpham {
        padding: 10px;
      }

      sanpham img {
        height: 150px;
      }

      sanpham h3 {
        font-size: 1em;
      }

      sanpham p {
        font-size: 0.85em;
      }

      .price-container {
        margin: 5px 0;
      }

      del {
        font-size: 0.8em;
      }

      strong {
        font-size: 1.1em;
      }

      button {
        padding: 6px 12px;
        font-size: 0.9em;
      }
    }

    @media (max-width: 480px) {
      .products {
        grid-template-columns: 1fr;
      }

      sanpham {
        margin-bottom: 15px;
      }

      aside a {
        font-size: 0.9em;
        padding: 6px 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left-content">
      <a href="trangchu.html">
        <img src="logopet.png" id="logo" alt="Logo KAO PET" />
      </a>
    </div>
    <div class="header-right-content">
      <nav>
        <a href="trangchu.html">Trang chủ</a>
        <div class="dropdown">
          <a href="thucung.html">Thú Cưng</a>
          <div class="dropdown-content">
            <a href="cho.html">Chó</a>
            <a href="meo.html">Mèo</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="phukien.html">Phụ Kiện</a>
          <div class="dropdown-content">
            <a href="thucan.html">Thức ăn</a>
            <a href="dochoi.html">Đồ chơi</a>
          </div>
        </div>
        <a href="dichvu.html">Dịch Vụ</a>
        <a href="gioithieu.html">Giới Thiệu</a>
        <a href="lienhe.html">Liên hệ</a>
      </nav>
      <div class="search-cart-wrapper">
        <div class="search-box">
          <select>
            <option>All Categories</option>
            <option>Chó Nhựt</option>
            <option>Chó Khiêm</option>
            <option>Chó Khang</option>
          </select>
          <input type="text" placeholder="Tìm kiếm..." />
          <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>
        <div class="giohang">
          <a href="giohang.html" class="cart-button">
            <i class="fa-solid fa-cart-shopping"></i>
          </a>
        </div>
      </div>
    </div>
  </header>
  <main>
    <section>
      <!-- <aside>
        <h3>Danh mục</h3>
        <div>
          <h4>Loại thú cưng</h4>
          <ul>
            <li><a href="#all">Tất cả</a></li>
            <li><a href="#dogs">Chó cảnh</a></li>
            <li><a href="#cats">Mèo cảnh</a></li>
            <li><a href="#birds">Chim cảnh</a></li>
          </ul>
        </div>
        <div>
          <h4>Sắp xếp theo</h4>
          <select id="sortSelect">
            <option value="default">Mặc định</option>
            <option value="price-asc">Giá: Thấp đến cao</option>
            <option value="price-desc">Giá: Cao đến thấp</option>
            <option value="name-asc">Tên: A-Z</option>
            <option value="name-desc">Tên: Z-A</option>
          </select>
        </div>
      </aside> -->
      <div>
        <div class="products">
          <sanpham>
            <img src="images/pets/Cho-becgie.png" alt="Chó Becgie">
            <h3>Chó Becgie</h3>
            <p>2 tháng, tiêm phòng</p>
            <div class="price-container">
              <del>15,000,000₫</del>
              <strong>12,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cho-becgie">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Cho-pug.png" alt="Chó Pug">
            <h3>Chó Pug</h3>
            <p>3 tháng, thuần chủng</p>
            <div class="price-container">
              <del>18,000,000₫</del>
              <strong>15,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cho-pug">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-mun.png" alt="Mèo Mun">
            <h3>Mèo Mun</h3>
            <p>2.5 tháng, có giấy tờ</p>
            <div class="price-container">
              <del>25,000,000₫</del>
              <strong>20,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-mun">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-muop.png" alt="Mèo mướp">
            <h3>Mèo mướp</h3>
            <p>3 tháng, mắt xanh</p>
            <div class="price-container">
              <del>20,000,000₫</del>
              <strong>18,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-muop">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Golden.png" alt="Golden">
            <h3>Golden</h3>
            <p>2 tháng, thuần chủng</p>
            <div class="price-container">
              <del>22,000,000₫</del>
              <strong>19,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/golden">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Poodle_Toy.png" alt="Poodle Toy">
            <h3>Poodle Toy</h3>
            <p>2.5 tháng, tiêm phòng</p>
            <div class="price-container">
              <del>16,000,000₫</del>
              <strong>13,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/poodle-toy">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Chihuahua.png" alt="Chihuahua LN">
            <h3>Chihuahua LN</h3>
            <p>2 tháng, màu kem</p>
            <div class="price-container">
              <del>17,000,000₫</del>
              <strong>14,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/chihuahua">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Corgi_Cardigan.png" alt="Corgi Cardigan">
            <h3>Corgi Cardigan</h3>
            <p>3 tháng, Blue Merle</p>
            <div class="price-container">
              <del>28,000,000₫</del>
              <strong>24,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/corgi-cardigan">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-ba-tu.png" alt="Mèo Ba Tư">
            <h3>Mèo Ba Tư</h3>
            <p>2 tháng, nhập Nhật</p>
            <div class="price-container">
              <del>35,000,000₫</del>
              <strong>32,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-ba-tu">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-anh-long-dai.png" alt="Mèo Anh Lông Dài">
            <h3>Mèo Anh Lông Dài</h3>
            <p>2.5 tháng, mặt xoắn</p>
            <div class="price-container">
              <del>15,000,000₫</del>
              <strong>12,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-anh-long-dai">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-anh-long-ngan.png" alt="Mèo Anh Lông Ngắn">
            <h3>Mèo Anh Lông Ngắn</h3>
            <p>3 tháng, thuần chủng</p>
            <div class="price-container">
              <del>40,000,000₫</del>
              <strong>35,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-anh-long-ngan">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/pets/Meo-di-hia.png" alt="Mèo Đi Hia">
            <h3>Mèo Đi Hia</h3>
            <p>2 tháng, tai dài</p>
            <div class="price-container">
              <del>18,000,000₫</del>
              <strong>15,000,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/meo-di-hia">Chi tiết</a>
            </div>
          </sanpham>
        </div>
          <nav class="pagination">
            <ul>
              <h3>Trang</h3>
              <li><a href="?page=1">1</a></li>
              <li><a href="?page=2">2</a></li>
              <li><a href="?page=3">3</a></li>
              <li><a href="?page=4">4</a></li>
              <li><a href="?page=5">5</a></li>
              <li><a href="?page=2">Tiếp</a></li>
            </ul>
          </nav>
      </div>
    </section>
  </main>

  <script>
    // Lưu trữ thứ tự ban đầu của sản phẩm
    let originalProducts = [];
    
    // Hàm chuyển đổi chuỗi giá tiền sang số
    function convertPrice(priceStr) {
      return parseInt(priceStr.replace(/[^\d]/g, ''));
    }

    // Hàm thêm hiệu ứng fade
    function addFadeEffect(products) {
      products.forEach(product => {
        product.classList.add('fade-out');
      });
      
      return new Promise(resolve => {
        setTimeout(() => {
          products.forEach(product => {
            product.classList.remove('fade-out');
            product.classList.add('fade-in');
          });
          resolve();
        }, 300);
      });
    }

    // Hàm sắp xếp sản phẩm
    async function sortProducts(sortType) {
      const container = document.querySelector('.products');
      const products = Array.from(container.getElementsByTagName('sanpham'));
      
      // Lưu trữ thứ tự ban đầu nếu chưa có
      if (originalProducts.length === 0) {
        originalProducts = [...products];
      }

      // Thêm hiệu ứng fade out
      await addFadeEffect(products);
      
      let sortedProducts;
      if (sortType === 'default') {
        sortedProducts = [...originalProducts];
      } else {
        sortedProducts = [...products].sort((a, b) => {
          const priceA = convertPrice(a.querySelector('strong').textContent);
          const priceB = convertPrice(b.querySelector('strong').textContent);
          const nameA = a.querySelector('h3').textContent.trim();
          const nameB = b.querySelector('h3').textContent.trim();
          
          switch(sortType) {
            case 'price-asc':
              return priceA - priceB;
            case 'price-desc':
              return priceB - priceA;
            case 'name-asc':
              return nameA.localeCompare(nameB, 'vi');
            case 'name-desc':
              return nameB.localeCompare(nameA, 'vi');
            default:
              return 0;
          }
        });
      }

      // Xóa sản phẩm hiện tại
      container.innerHTML = '';

      // Thêm lại sản phẩm theo thứ tự mới
      sortedProducts.forEach(product => {
        container.appendChild(product);
      });

      // Thêm hiệu ứng fade in
      setTimeout(() => {
        sortedProducts.forEach(product => {
          product.classList.remove('fade-in');
        });
      }, 300);
    }

    // Xử lý sự kiện thay đổi select
    document.getElementById('sortSelect').addEventListener('change', function() {
      sortProducts(this.value);
    });

    // Xử lý sự kiện click cho tất cả nút "Thêm vào giỏ hàng"
    document.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', function(e) {
        const product = e.target.closest('sanpham');
        const productData = {
          id: product.querySelector('a').href.split('/').pop(),
          name: product.querySelector('h3').textContent,
          price: product.querySelector('strong').textContent,
          image: product.querySelector('img').src
        };

        // Lấy giỏ hàng hiện tại
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Kiểm tra xem sản phẩm đã có trong giỏ hàng chưa
        const existingProduct = cart.find(item => item.id === productData.id);
        
        if (existingProduct) {
          existingProduct.quantity = (existingProduct.quantity || 1) + 1;
        } else {
          cart.push({...productData, quantity: 1});
        }

        // Lưu giỏ hàng mới vào localStorage
        localStorage.setItem('cart', JSON.stringify(cart));

        // Hiển thị thông báo
        alert('Đã thêm ' + productData.name + ' vào giỏ hàng!');
      });
    });

    // Xử lý sự kiện click cho các liên kết "Xem chi tiết"
    document.querySelectorAll('article a').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const productId = e.target.href.split('/').pop();
        // Lưu ID sản phẩm đang xem vào localStorage
        localStorage.setItem('currentProduct', productId);
        localStorage.setItem('productType', 'dog'); // Lưu loại sản phẩm
        // Chuyển hướng đến trang chi tiết
        window.location.href = e.target.href;
      });
    });

    // Xử lý lọc theo giá
    const filterForm = document.querySelector('aside form');
    filterForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const minPrice = parseInt(document.getElementById('min-price').value) || 0;
      const maxPrice = parseInt(document.getElementById('max-price').value) || Infinity;
      
      document.querySelectorAll('article').forEach(article => {
        const priceText = article.querySelector('strong').textContent;
        const price = parseInt(priceText.replace(/[^\d]/g, ''));
        
        if (price >= minPrice && price <= maxPrice) {
          article.style.display = 'block';
        } else {
          article.style.display = 'none';
        }
      });
    });
  </script>
  <footer>
      <div class="footer-columns-wrapper">
        <div class="footer-column shop">
          <h2>SHOP <i class="fas fa-shopping-bag"></i></h2>
          <ul>
            <li><a href="cho.html">Dành Cho Chó</a></li>
            <li><a href="meo.html">Dành Cho Mèo</a></li>
            <li><a href="#">Thương Hiệu</a></li>
            <li><a href="#">Bộ Sưu Tập</a></li>
          </ul>
        </div>
        <div class="footer-column kagpet">
          <h2>KAGPET SHOP <i class="fas fa-paw"></i></h2>
          <ul>
            <li><a href="gioithieu.html">Giới Thiệu</a></li>
            <li><a href="#">Thành Viên KAGPET</a></li>
            <li><a href="#">Điều Khoản Sử Dụng</a></li>
            <li><a href="#">Tuyển Dụng</a></li>
          </ul>
        </div>
        <div class="footer-column lienlac">
          <h2>LIÊN HỆ <i class="fas fa-map"></i></h2>
          <p>
            <i class="fas fa-map-marker-alt"></i>
            <span><b>Địa chỉ: </b>Chợ lớn</span>
          </p>
          <p>
            <i class="fas fa-phone"></i>
            <span><b>Điện thoại: </b>123456789</span>
          </p>
          <p>
            <i class="fas fa-envelope"></i>
            <span><b>Email: </b>kagpet@gmail.com</span>
          </p>
        </div>
        <div class="footer-column">
          <h2>MẠNG XÃ HỘI <i class="fa-solid fa-globe"></i></h2>
          <div class="social-icons-wrapper">
            <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.youtube.com" target="_blank"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
    </footer>
</body>
</html>