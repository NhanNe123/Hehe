<!DOCTYPE html>
<html lang="vi">
<head>
  <title>KagPet - Phụ kiện thú cưng</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cửa hàng phụ kiện thú cưng chất lượng cao">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      padding: 0;
      margin: 0;
      background-color: gainsboro;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    nav {
      margin: 0 0 20px 0;
    }

    nav a {
      color: #333;
      text-decoration: none;
    }

    nav a:hover {
      color: #8b76cc;
    }

    h1, h2, h3, h4 {
      margin-bottom: 15px;
      color: #333;
    }

    section {
      display: flex;
      gap: 30px;
      align-items: flex-start;
      margin-top: 30px;
    }

    section > div {
      flex: 1;
      width: 100%;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      width: 100%;
    }

    sanpham {
      background: white;
      padding: 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s;
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow: hidden;
    }

    sanpham:hover {
      transform: translateY(-5px);
    }

    sanpham img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      margin-bottom: 10px;
      transition: transform 0.3s;
    }

    sanpham:hover img {
      transform: scale(1.1);
    }

    sanpham h3 {
      font-size: 1.1em;
      margin: 10px 15px;
      color: #333;
      flex-grow: 0;
    }

    sanpham p {
      margin: 8px 15px;
      color: #666;
      font-size: 0.9em;
      flex-grow: 1;
    }

    .price-container {
      margin: 10px 15px;
    }

    del {
      color: #999;
      font-size: 0.9em;
      display: block;
    }

    strong {
      color: #e44d26;
      font-size: 1.2em;
      display: block;
      margin-top: 5px;
    }

    .button-container {
      margin: 10px 15px;
      padding-bottom: 15px;
    }

    button {
      background: #8b76cc;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      margin: 10px 0 5px 0;
      transition: background 0.3s;
    }

    button:hover {
      background: #7561b7;
    }

    sanpham a {
      display: inline-block;
      color: #8b76cc;
      text-decoration: none;
      padding: 5px 10px;
      transition: color 0.3s;
    }

    sanpham a:hover {
      color: #7561b7;
    }

    .pagination {
      margin-top: 30px;
      text-align: center;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .pagination h3 {
      margin-bottom: 10px;
      text-align: center;
    }

    .pagination ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 0;
      padding: 0;
    }

    .pagination a {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      text-decoration: none;
      color: #333;
      transition: all 0.3s;
    }

    .pagination a:hover {
      background: #8b76cc;
      color: white;
      border-color: #8b76cc;
    }

    /* Responsive cho phần nội dung chính */
    @media (max-width: 1024px) {
      .products {
        grid-template-columns: repeat(3, 1fr);
      }

      section {
        flex-direction: column;
        gap: 20px;
      }

      aside {
        width: 100%;
        margin-top: 0;
      }

      aside ul {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
      }

      aside li {
        margin: 0;
      }

      aside a {
        padding: 8px 15px;
        background-color: #f5f5f5;
        border-radius: 20px;
        display: block;
      }

      #sortSelect {
        width: 100%;
        max-width: 300px;
        margin: 10px auto;
        display: block;
      }
    }

    @media (max-width: 768px) {
      .products {
        grid-template-columns: repeat(2, 1fr);
      }

      sanpham {
        padding: 10px;
      }

      sanpham img {
        height: 150px;
      }

      sanpham h3 {
        font-size: 1em;
      }

      sanpham p {
        font-size: 0.85em;
      }

      .price-container {
        margin: 5px 0;
      }

      del {
        font-size: 0.8em;
      }

      strong {
        font-size: 1.1em;
      }

      button {
        padding: 6px 12px;
        font-size: 0.9em;
      }
    }

    @media (max-width: 480px) {
      .products {
        grid-template-columns: 1fr;
      }

      sanpham {
        margin-bottom: 15px;
      }

      aside a {
        font-size: 0.9em;
        padding: 6px 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left-content">
      <a href="trangchu.html">
        <img src="logopet.png" id="logo" alt="Logo KAO PET" />
      </a>
    </div>
    <div class="header-right-content">
      <nav>
        <a href="trangchu.html">Trang chủ</a>
        <div class="dropdown">
          <a href="thucung.html">Thú Cưng</a>
          <div class="dropdown-content">
            <a href="cho.html">Chó</a>
            <a href="meo.html">Mèo</a>
          </div>
        </div>
        <div class="dropdown">
          <a href="phukien.html">Phụ Kiện</a>
          <div class="dropdown-content">
            <a href="thucan.html">Thức ăn</a>
            <a href="dochoi.html">Đồ chơi</a>
          </div>
        </div>
        <a href="dichvu.html">Dịch Vụ</a>
        <a href="gioithieu.html">Giới Thiệu</a>
        <a href="lienhe.html">Liên hệ</a>
      </nav>
      <div class="search-cart-wrapper">
        <div class="search-box">
          <select>
            <option>All Categories</option>
            <option>Chó Nhựt</option>
            <option>Chó Khiêm</option>
            <option>Chó Khang</option>
          </select>
          <input type="text" placeholder="Tìm kiếm..." />
          <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>
        <div class="giohang">
          <a href="giohang.html" class="cart-button">
            <i class="fa-solid fa-cart-shopping"></i>
          </a>
        </div>
      </div>
    </div>
  </header>
  <main>
    <section>
      <!-- <aside>
        <h3>Danh mục</h3>
        <div>
          <h4>Loại phụ kiện</h4>
          <ul>
            <li><a href="#all">Tất cả</a></li>
            <li><a href="#collar">Vòng cổ</a></li>
            <li><a href="#clothing">Quần áo</a></li>
            <li><a href="#bed">Nệm</a></li>
            <li><a href="#bowl">Bát ăn</a></li>
          </ul>
        </div>
        <div>
          <h4>Sắp xếp theo</h4>
          <select id="sortSelect">
            <option value="default">Mặc định</option>
            <option value="price-asc">Giá: Thấp đến cao</option>
            <option value="price-desc">Giá: Cao đến thấp</option>
            <option value="name-asc">Tên: A-Z</option>
            <option value="name-desc">Tên: Z-A</option>
          </select>
        </div>
      </aside> -->

      <div>
        <div class="products">
          <sanpham>
            <img src="images/products/cat-coat.png" alt="Áo khoác mèo" width="200">
            <h3>Áo khoác mèo</h3>
            <p>Áo khoác mèo cao cấp</p>
            <div class="price-container">
              <del>250,000₫</del>
              <strong>199,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-coat">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/cat-bed.png" alt="Nệm mèo" width="200">
            <h3>Nệm mèo</h3>
            <p>Nệm mèo cao cấp</p>
            <div class="price-container">
              <del>400,000₫</del>
              <strong>350,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-bed">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/bowl.png" alt="Bát ăn" width="200">
            <h3>Bát ăn</h3>
            <p>Bát ăn cao cấp</p>
            <div class="price-container">
              <del>180,000₫</del>
              <strong>150,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-bowl">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/chuong-cho.png" alt="Chuồng chó" width="200">
            <h3>Chuồng chó</h3>
            <p>Chuồng chó cao cấp</p>
            <div class="price-container">
              <del>800,000₫</del>
              <strong>650,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/chuong-cho">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/bat-thuc-an.png" alt="Bát thức ăn cho mèo" width="200">
            <h3>Bát thức ăn cho mèo</h3>
            <p>Bát thức ăn cho mèo cao cấp</p>
            <div class="price-container">
              <del>300,000₫</del>
              <strong>250,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/bat-thuc-an">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/cat-bag.png" alt="Ba lô mèo" width="200">
            <h3>Ba lô mèo</h3>
            <p>Ba lô mèo cao cấp</p>
            <div class="price-container">
              <del>150,000₫</del>
              <strong>120,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-bag">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/dog-leash.png" alt="Dây dắt chó" width="200">
            <h3>Dây dắt chó</h3>
            <p>Dây dắt chó cao cấp</p>
            <div class="price-container">
              <del>550,000₫</del>
              <strong>450,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/dog-leash">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/cat-toy.png" alt="Đồ chơi cho mèo" width="200">
            <h3>Đồ chơi cho mèo</h3>
            <p>Đồ chơi mèo cao cấp</p>
            <div class="price-container">
              <del>700,000₫</del>
              <strong>600,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-toy">Chi tiết</a>
            </div>
            </sanpham>

          <sanpham>
            <img src="images/products/toy-ball.png" alt="Bóng đồ chơi" width="200">
            <h3>Bóng đồ chơi</h3>
            <p>Cao su non, có chuông</p>
            <div class="price-container">
              <del>90,000₫</del>
              <strong>75,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/toy-ball">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/cat-brush.png" alt="Lược chải mèo" width="200">
            <h3>Lược chải mèo</h3>
            <p>Lược chải mèo cao cấp</p>
            <div class="price-container">
              <del>150,000₫</del>
              <strong>120,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/brush">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/cat-tree.png" alt="Cây mèo" width="200">
            <h3>Cây mèo</h3>
            <p>3 tầng, có võng</p>
            <div class="price-container">
              <del>850,000₫</del>
              <strong>750,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/cat-tree">Chi tiết</a>
            </div>
          </sanpham>

          <sanpham>
            <img src="images/products/nail-clipper.png" alt="Kéo cắt móng" width="200">
            <h3>Kéo cắt móng</h3>
            <p>Inox cao cấp</p>
            <div class="price-container">
              <del>120,000₫</del>
              <strong>95,000₫</strong>
            </div>
            <div class="button-container">
              <button>Thêm vào giỏ</button>
              <a href="/product/nail-clipper">Chi tiết</a>
            </div>
          </sanpham>
        </div>
        <nav class="pagination">
          <ul>
            <li><a href="?page=1">Trang</a></li>
            <li><a href="?page=1">1</a></li>
            <li><a href="?page=2">2</a></li>
            <li><a href="?page=3">3</a></li>
            <li><a href="?page=4">4</a></li>
            <li><a href="?page=5">5</a></li>
            <li><a href="?page=2">Tiếp</a></li>
          </ul>
        </nav>
      </div>
    </section>
  </main>
  <script>
    // Lưu trữ thứ tự ban đầu của sản phẩm
    let originalProducts = [];
    
    // Hàm chuyển đổi chuỗi giá tiền sang số
    function convertPrice(priceStr) {
      return parseInt(priceStr.replace(/[^\d]/g, ''));
    }

    // Hàm thêm hiệu ứng fade
    function addFadeEffect(products) {
      products.forEach(product => {
        product.classList.add('fade-out');
      });
      
      return new Promise(resolve => {
        setTimeout(() => {
          products.forEach(product => {
            product.classList.remove('fade-out');
            product.classList.add('fade-in');
          });
          resolve();
        }, 300);
      });
    }

    // Hàm sắp xếp sản phẩm
    async function sortProducts(sortType) {
      const container = document.querySelector('.products');
      const products = Array.from(container.getElementsByTagName('sanpham'));
      
      // Lưu trữ thứ tự ban đầu nếu chưa có
      if (originalProducts.length === 0) {
        originalProducts = [...products];
      }

      // Thêm hiệu ứng fade out
      await addFadeEffect(products);
      
      let sortedProducts;
      if (sortType === 'default') {
        sortedProducts = [...originalProducts];
      } else {
        sortedProducts = [...products].sort((a, b) => {
          const priceA = convertPrice(a.querySelector('strong').textContent);
          const priceB = convertPrice(b.querySelector('strong').textContent);
          const nameA = a.querySelector('h3').textContent.trim();
          const nameB = b.querySelector('h3').textContent.trim();
          
          switch(sortType) {
            case 'price-asc':
              return priceA - priceB;
            case 'price-desc':
              return priceB - priceA;
            case 'name-asc':
              return nameA.localeCompare(nameB, 'vi');
            case 'name-desc':
              return nameB.localeCompare(nameA, 'vi');
            default:
              return 0;
          }
        });
      }

      // Xóa sản phẩm hiện tại
      container.innerHTML = '';

      // Thêm lại sản phẩm theo thứ tự mới
      sortedProducts.forEach(product => {
        container.appendChild(product);
      });

      // Thêm hiệu ứng fade in
      setTimeout(() => {
        sortedProducts.forEach(product => {
          product.classList.remove('fade-in');
        });
      }, 300);
    }

    // Xử lý sự kiện thay đổi select
    document.getElementById('sortSelect').addEventListener('change', function() {
      sortProducts(this.value);
    });

    // Khởi tạo giỏ hàng trong localStorage nếu chưa có
    if (!localStorage.getItem('cart')) {
      localStorage.setItem('cart', JSON.stringify([]));
    }

    // Xử lý sự kiện click cho tất cả nút "Thêm vào giỏ hàng"
    document.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', function(e) {
        const product = e.target.closest('sanpham');
        const productData = {
          id: product.querySelector('a').href.split('/').pop(),
          name: product.querySelector('h3').textContent,
          price: product.querySelector('strong').textContent,
          image: product.querySelector('img').src
        };

        // Lấy giỏ hàng hiện tại
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Kiểm tra xem sản phẩm đã có trong giỏ hàng chưa
        const existingProduct = cart.find(item => item.id === productData.id);
        
        if (existingProduct) {
          existingProduct.quantity = (existingProduct.quantity || 1) + 1;
        } else {
          cart.push({...productData, quantity: 1});
        }

        // Lưu giỏ hàng mới vào localStorage
        localStorage.setItem('cart', JSON.stringify(cart));

        // Hiển thị thông báo
        alert('Đã thêm ' + productData.name + ' vào giỏ hàng!');
      });
    });
  </script>
  <footer>
    <div class="footer-columns-wrapper">
      <div class="footer-column shop">
        <h2>SHOP <i class="fas fa-shopping-bag"></i></h2>
        <ul>
          <li><a href="cho.html">Dành Cho Chó</a></li>
          <li><a href="meo.html">Dành Cho Mèo</a></li>
          <li><a href="#">Thương Hiệu</a></li>
          <li><a href="#">Bộ Sưu Tập</a></li>
        </ul>
      </div>
      <div class="footer-column kagpet">
        <h2>KAGPET SHOP <i class="fas fa-paw"></i></h2>
        <ul>
          <li><a href="gioithieu.html">Giới Thiệu</a></li>
          <li><a href="#">Thành Viên KAGPET</a></li>
          <li><a href="#">Điều Khoản Sử Dụng</a></li>
          <li><a href="#">Tuyển Dụng</a></li>
        </ul>
      </div>
      <div class="footer-column lienlac">
        <h2>LIÊN HỆ <i class="fas fa-map"></i></h2>
        <p>
          <i class="fas fa-map-marker-alt"></i>
          <span><b>Địa chỉ: </b>Chợ lớn</span>
        </p>
        <p>
          <i class="fas fa-phone"></i>
          <span><b>Điện thoại: </b>123456789</span>
        </p>
        <p>
          <i class="fas fa-envelope"></i>
          <span><b>Email: </b>kagpet@gmail.com</span>
        </p>
      </div>
      <div class="footer-column">
        <h2>MẠNG XÃ HỘI <i class="fa-solid fa-globe"></i></h2>
        <div class="social-icons-wrapper">
          <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://www.youtube.com" target="_blank"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>